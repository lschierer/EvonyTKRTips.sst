---
export const prerender = false;

import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
const { title } = Astro.props.frontmatter || Astro.props;
const DEBUG = false;

import { getEntry } from "astro:content";

const { slug } = Astro.params;
if (slug === undefined) {
  console.log(`slug was undefined`)
  throw new Error("Slug is required");
}

const entry = await getEntry("docs", `generals/pair-picking/${slug}`);

if (entry === undefined) {
  console.log(`${slug} was not found`)
  return Astro.redirect("/404");
}

const { Content } = await entry.render(); 
---

<StarlightPage frontmatter={{
  title: entry.data.title,
  lastUpdated: entry.data.lastUpdated,
  tableOfContents: entry.data.tableOfContents,
  }}>
  {DEBUG && `Dynamic Template`}
  <Content />
  <slot/>
</StarlightPage>

