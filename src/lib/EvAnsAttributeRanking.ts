//based on https://www.evonyanswers.com/post/evony-answers-attribute-methodology-explanation

import * as b from "../schemas/baseSchemas";

import {
  ScoreWeightings,
  type ScoreWeightings as ScoreWeightingsType,
  PvPAttributeMultipliers,
  type PvPAttributeMultipliers as PvPAttributeMultipliersType,
} from '../schemas/EvAns.zod'

export const GroundScoreWeightings: ScoreWeightingsType = {
  [b.ActivationSituations.enum["Solo PvP"]]: {
    GroundOffense: 0.64,
    GroundToughness: 0.34,
    EnemyDebuffs: 0.01,
    default: 0.01,
  },
  [b.ActivationSituations.enum['Rally Owner PvP']]: {
    GroundOffense: 0.64,
    GroundToughness: 0.34,
    EnemyDebuffs: 0.01,
    default: 0.01,
  },
  [b.ActivationSituations.enum["Reinforcement of Others"]]: {
    GroundOffense: 0.63,
    GroundToughness: 0.35,
    EnemyDebuffs: 0.01,
    default: 0.01,
  }
};

export const GroundPvPAttributeMultipliers: PvPAttributeMultipliersType = {
  [b.ActivationSituations.enum["Solo PvP"]]: {
    Offensive: {
      AllTroopAttack: 2.14833,
      GroundAttack: 1.815,
      RangedAttack: 0.11111,
      SiegeAttack: 0.11111,
      MountedAttack: 0.11111,
      InBattleMovementBonus: 0.6,
      MarchSizeIncrease: 2.66667,
      RallyCapacity: 0.0,
      RangedRangeBonus: 0,
      SiegeRangeBonusFlat: 0,
      SiegeRangeBonusPercent: 0,
    },
    Toughness: {
      AllTroopHP: 1.67101,
      RangedHP: 1.17100,
      MountedHP: 0.16667,
      GroundHP: 0.16667,
      SiegeHP: 0.16667,
      AllTroopDefense: 1.55391,
      RangedDefense: 1.05390,
      MountedDefense: 0.16667,
      SiegeDefense: 0.16667,
      GroundDefense: 0.16667,
    },
    Preservation: {
      Death2Wounded: 0.25555,
      Death2WoundedWhenAttacking: 0.12555,
      Death2Souls: 0.12555,
    },
    AttackingAttackDebuff: {
      ReduceAllAttack: 3.54240,
      ReduceEnemyMountedAttack: 1.20000,
      ReduceEnemyRangedAttack: 1.05600,
      ReduceEnemySiegeAttack: 0.912,
      ReduceEnemyGroundAttack: 0.768,
    },
    AttackingToughnessDebuff: {
      ReduceEnemyAllHP: 2.80800,
      ReduceEnemyRangedHP: 0.96000,
      ReduceEnemySiegeHP: 0.84000,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.6,
      ReduceEnemyAllDefense: 2.80800,
      ReduceEnemyRangedDefense: 0.96000,
      ReduceEnemySiegeDefense: 0.84000,
      ReduceEnemyMountedDefense: 0.72000,
      ReduceEnemyGroundDefense: 0.6,
    },
    ReinforcingAttackDebuff: {
      ReduceAllAttack: 3.54240,
      ReduceEnemyMountedAttack: 1.20000,
      ReduceEnemyRangedAttack: 1.05600,
      ReduceEnemySiegeAttack: 0.912,
      ReduceEnemyGroundAttack: 0.768,
    },
    ReinforcingToughnessDebuff: {
      ReduceEnemyAllHP: 2.80800,
      ReduceEnemyRangedHP: 0.96000,
      ReduceEnemySiegeHP: 0.84000,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.6,
      ReduceEnemyAllDefense: 2.80800,
      ReduceEnemyRangedDefense: 0.96000,
      ReduceEnemySiegeDefense: 0.84000,
      ReduceEnemyMountedDefense: 0.72000,
      ReduceEnemyGroundDefense: 0.6,
    },
    Debilitation: {
      Wounded2Death: 0.25555,
      InCityWounded2Death: 0.12555,
      Wounded2DeathWhenAttacking: 0.12555,
    }
  },
  [b.ActivationSituations.enum["Rally Owner PvP"]]: {
    Offensive: {
      AllTroopAttack: 2.14833,
      GroundAttack: 1.815,
      RangedAttack: 0.11111,
      SiegeAttack: 0.11111,
      MountedAttack: 0.11111,
      InBattleMovementBonus: 0.6,
      MarchSizeIncrease: 2.66667,
      RallyCapacity: 0.5,
      RangedRangeBonus: 0,
      SiegeRangeBonusFlat: 0,
      SiegeRangeBonusPercent: 0,
    },
    Toughness: {
      AllTroopHP: 1.67101,
      RangedHP: 1.17100,
      MountedHP: 0.16667,
      GroundHP: 0.16667,
      SiegeHP: 0.16667,
      AllTroopDefense: 1.55391,
      RangedDefense: 1.05390,
      MountedDefense: 0.16667,
      SiegeDefense: 0.16667,
      GroundDefense: 0.16667,
    },
    Preservation: {
      Death2Wounded: 0.25555,
      Death2WoundedWhenAttacking: 0.12555,
      Death2Souls: 0.12555,
    },
    AttackingAttackDebuff: {
      ReduceAllAttack: 3.54240,
      ReduceEnemyMountedAttack: 1.20000,
      ReduceEnemyRangedAttack: 1.05600,
      ReduceEnemySiegeAttack: 0.912,
      ReduceEnemyGroundAttack: 0.768,
    },
    AttackingToughnessDebuff: {
      ReduceEnemyAllHP: 2.80800,
      ReduceEnemyRangedHP: 0.96000,
      ReduceEnemySiegeHP: 0.84000,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.6,
      ReduceEnemyAllDefense: 2.80800,
      ReduceEnemyRangedDefense: 0.96000,
      ReduceEnemySiegeDefense: 0.84000,
      ReduceEnemyMountedDefense: 0.72000,
      ReduceEnemyGroundDefense: 0.6,
    },
    ReinforcingAttackDebuff: {
      ReduceAllAttack: 3.54240,
      ReduceEnemyMountedAttack: 1.20000,
      ReduceEnemyRangedAttack: 1.05600,
      ReduceEnemySiegeAttack: 0.912,
      ReduceEnemyGroundAttack: 0.768,
    },
    ReinforcingToughnessDebuff: {
      ReduceEnemyAllHP: 2.80800,
      ReduceEnemyRangedHP: 0.96000,
      ReduceEnemySiegeHP: 0.84000,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.6,
      ReduceEnemyAllDefense: 2.80800,
      ReduceEnemyRangedDefense: 0.96000,
      ReduceEnemySiegeDefense: 0.84000,
      ReduceEnemyMountedDefense: 0.72000,
      ReduceEnemyGroundDefense: 0.6,
    },
    Debilitation: {
      Wounded2Death: 0.25555,
      InCityWounded2Death: 0.12555,
      Wounded2DeathWhenAttacking: 0.12555,
    }
  },
  [b.ActivationSituations.enum["Reinforcement of Others"]]: {
    Offensive: {
      AllTroopAttack: 2.14833,
      GroundAttack: 1.815,
      RangedAttack: 0.11111,
      SiegeAttack: 0.11111,
      MountedAttack: 0.11111,
      InBattleMovementBonus: 0.6,
      MarchSizeIncrease: 2.66667,
      RallyCapacity: 0.0,
      RangedRangeBonus: 0,
      SiegeRangeBonusFlat: 0,
      SiegeRangeBonusPercent: 0,
    },
    Toughness: {
      AllTroopHP: 1.67101,
      RangedHP: 1.17100,
      MountedHP: 0.16667,
      GroundHP: 0.16667,
      SiegeHP: 0.16667,
      AllTroopDefense: 1.55391,
      RangedDefense: 1.05390,
      MountedDefense: 0.16667,
      SiegeDefense: 0.16667,
      GroundDefense: 0.16667,
    },
    Preservation: {
      Death2Wounded: 0.25555,
      Death2WoundedWhenAttacking: 0,
      Death2Souls: 0.12555,
    },
    AttackingAttackDebuff: {
      ReduceAllAttack: 3.54240,
      ReduceEnemyMountedAttack: 1.20000,
      ReduceEnemyRangedAttack: 1.05600,
      ReduceEnemySiegeAttack: 0.912,
      ReduceEnemyGroundAttack: 0.768,
    },
    AttackingToughnessDebuff: {
      ReduceEnemyAllHP: 2.80800,
      ReduceEnemyRangedHP: 0.96000,
      ReduceEnemySiegeHP: 0.84000,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.6,
      ReduceEnemyAllDefense: 2.80800,
      ReduceEnemyRangedDefense: 0.96000,
      ReduceEnemySiegeDefense: 0.84000,
      ReduceEnemyMountedDefense: 0.72000,
      ReduceEnemyGroundDefense: 0.6,
    },
    ReinforcingAttackDebuff: {
      ReduceAllAttack: 3.54240,
      ReduceEnemyMountedAttack: 1.20000,
      ReduceEnemyRangedAttack: 1.05600,
      ReduceEnemySiegeAttack: 0.912,
      ReduceEnemyGroundAttack: 0.768,
    },
    ReinforcingToughnessDebuff: {
      ReduceEnemyAllHP: 2.80800,
      ReduceEnemyRangedHP: 0.96000,
      ReduceEnemySiegeHP: 0.84000,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.6,
      ReduceEnemyAllDefense: 2.80800,
      ReduceEnemyRangedDefense: 0.96000,
      ReduceEnemySiegeDefense: 0.84000,
      ReduceEnemyMountedDefense: 0.72000,
      ReduceEnemyGroundDefense: 0.6,
    },
    Debilitation: {
      Wounded2Death: 0.25555,
      InCityWounded2Death: 0,
      Wounded2DeathWhenAttacking: 0,
    }
  },
}

export const RangedScoreWeightings: ScoreWeightingsType = {
  [b.ActivationSituations.enum["Solo PvP"]]: {
    GroundOffense: 0.64,
    GroundToughness: 0.34,
    EnemyDebuffs: 0.01,
    default: 0.01,
  },
  [b.ActivationSituations.enum['Rally Owner PvP']]: {
    GroundOffense: 0.64,
    GroundToughness: 0.34,
    EnemyDebuffs: 0.01,
    default: 0.01,
  },
  [b.ActivationSituations.enum["Reinforcement of Others"]]: {
    GroundOffense: 0.63,
    GroundToughness: 0.35,
    EnemyDebuffs: 0.01,
    default: 0.01,
  }
};

export const RangedPvPAttributeMultipliers: PvPAttributeMultipliersType = {
  [b.ActivationSituations.enum["Solo PvP"]]: {
    Offensive: {
      AllTroopAttack: 2.84933,
      GroundAttack: 0.11111,
      RangedAttack: 2.51600,
      SiegeAttack: 0.11111,
      MountedAttack: 0.11111,
      InBattleMovementBonus: 0,
      RangedRangeBonus: 0.12000,
      SiegeRangeBonusFlat: 0.02500,
      SiegeRangeBonusPercent: 0.50000,
      MarchSizeIncrease: 2.66667,
      RallyCapacity: 0.0,
    },
    Toughness: {
      AllTroopHP: 1.33501,
      RangedHP: 0.83500,
      MountedHP: 0.16667,
      GroundHP: 0.16667,
      SiegeHP: 0.16667,
      AllTroopDefense: 1.25151,
      RangedDefense: 0.75150,
      MountedDefense: 0.16667,
      SiegeDefense: 0.16667,
      GroundDefense: 0.16667,
    },
    Preservation: {
      Death2Wounded: 0.25555,
      Death2WoundedWhenAttacking: 0.12555,
      Death2Souls: 0.12555,
    },
    AttackingAttackDebuff: {
      ReduceAllAttack: 1.63836,
      ReduceEnemyMountedAttack: 0.42180,
      ReduceEnemyRangedAttack: 0.35520,
      ReduceEnemySiegeAttack: 0.48840,
      ReduceEnemyGroundAttack: 0.55500,
    },
    AttackingToughnessDebuff: {
      ReduceEnemyAllHP: 1.31069,
      ReduceEnemyRangedHP: 0.28416,
      ReduceEnemySiegeHP: 0.39072,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.44400,
      ReduceEnemyAllDefense: 1.31069,
      ReduceEnemyRangedDefense: 0.28416,
      ReduceEnemySiegeDefense: 0.39072,
      ReduceEnemyMountedDefense: 0.33744,
      ReduceEnemyGroundDefense: 0.6,
    },
    ReinforcingAttackDebuff: {
      ReduceAllAttack: 1.63836,
      ReduceEnemyMountedAttack: 0.35520,
      ReduceEnemyRangedAttack: 0.42180,
      ReduceEnemySiegeAttack: 0.48840,
      ReduceEnemyGroundAttack: 0.55500,
    },
    ReinforcingToughnessDebuff: {
      ReduceEnemyAllHP: 1.31069,
      ReduceEnemyRangedHP: 0.39072,
      ReduceEnemySiegeHP: 0.28416,
      ReduceEnemyMountedHP: 0.44400,
      ReduceEnemyGroundHP: 0.33744,
      ReduceEnemyAllDefense: 1.31069,
      ReduceEnemyRangedDefense: 0.39072,
      ReduceEnemySiegeDefense: 0.28416,
      ReduceEnemyMountedDefense: 0.44400,
      ReduceEnemyGroundDefense: 0.33744,
    },
    Debilitation: {
      Wounded2Death: 0.25555,
      InCityWounded2Death: 0.12555,
      Wounded2DeathWhenAttacking: 0.12555,
    }
  },
  [b.ActivationSituations.enum["Rally Owner PvP"]]: {
    Offensive: {
      AllTroopAttack: 2.84933,
      GroundAttack: 0.11111,
      RangedAttack: 2.51600,
      SiegeAttack: 0.11111,
      MountedAttack: 0.11111,
      InBattleMovementBonus: 0,
      RangedRangeBonus: 0.12000,
      SiegeRangeBonusFlat: 0.02500,
      SiegeRangeBonusPercent: 0.50000,
      MarchSizeIncrease: 2.66667,
      RallyCapacity: 0.5,
    },
    Toughness: {
      AllTroopHP: 1.33501,
      RangedHP: 0.83500,
      MountedHP: 0.16667,
      GroundHP: 0.16667,
      SiegeHP: 0.16667,
      AllTroopDefense: 1.25151,
      RangedDefense: 0.75150,
      MountedDefense: 0.16667,
      SiegeDefense: 0.16667,
      GroundDefense: 0.16667,
    },
    Preservation: {
      Death2Wounded: 0.25555,
      Death2WoundedWhenAttacking: 0.12555,
      Death2Souls: 0.12555,
    },
    AttackingAttackDebuff: {
      ReduceAllAttack: 1.63836,
      ReduceEnemyMountedAttack: 0.42180,
      ReduceEnemyRangedAttack: 0.35520,
      ReduceEnemySiegeAttack: 0.48840,
      ReduceEnemyGroundAttack: 0.55500,
    },
    AttackingToughnessDebuff: {
      ReduceEnemyAllHP: 1.31069,
      ReduceEnemyRangedHP: 0.28416,
      ReduceEnemySiegeHP: 0.39072,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.44400,
      ReduceEnemyAllDefense: 1.31069,
      ReduceEnemyRangedDefense: 0.28416,
      ReduceEnemySiegeDefense: 0.39072,
      ReduceEnemyMountedDefense: 0.33744,
      ReduceEnemyGroundDefense: 0.6,
    },
    ReinforcingAttackDebuff: {
      ReduceAllAttack: 1.63836,
      ReduceEnemyMountedAttack: 0.35520,
      ReduceEnemyRangedAttack: 0.42180,
      ReduceEnemySiegeAttack: 0.48840,
      ReduceEnemyGroundAttack: 0.55500,
    },
    ReinforcingToughnessDebuff: {
      ReduceEnemyAllHP: 1.31069,
      ReduceEnemyRangedHP: 0.39072,
      ReduceEnemySiegeHP: 0.28416,
      ReduceEnemyMountedHP: 0.44400,
      ReduceEnemyGroundHP: 0.33744,
      ReduceEnemyAllDefense: 1.31069,
      ReduceEnemyRangedDefense: 0.39072,
      ReduceEnemySiegeDefense: 0.28416,
      ReduceEnemyMountedDefense: 0.44400,
      ReduceEnemyGroundDefense: 0.33744,
    },
    Debilitation: {
      Wounded2Death: 0.25555,
      InCityWounded2Death: 0.12555,
      Wounded2DeathWhenAttacking: 0.12555,
    }
  },
  [b.ActivationSituations.enum["Reinforcement of Others"]]: {
    Offensive: {
      AllTroopAttack: 2.84933,
      GroundAttack: 0.11111,
      RangedAttack: 2.51600,
      SiegeAttack: 0.11111,
      MountedAttack: 0.11111,
      InBattleMovementBonus: 0,
      RangedRangeBonus: 0.12000,
      SiegeRangeBonusFlat: 0.02500,
      SiegeRangeBonusPercent: 0.50000,
      MarchSizeIncrease: 2.66667,
      RallyCapacity: 0.0,
    },
    Toughness: {
      AllTroopHP: 1.33501,
      RangedHP: 0.83500,
      MountedHP: 0.16667,
      GroundHP: 0.16667,
      SiegeHP: 0.16667,
      AllTroopDefense: 1.25151,
      RangedDefense: 0.75150,
      MountedDefense: 0.16667,
      SiegeDefense: 0.16667,
      GroundDefense: 0.16667,
    },
    Preservation: {
      Death2Wounded: 0.25555,
      Death2WoundedWhenAttacking: 0.12555,
      Death2Souls: 0.12555,
    },
    AttackingAttackDebuff: {
      ReduceAllAttack: 1.63836,
      ReduceEnemyMountedAttack: 0.42180,
      ReduceEnemyRangedAttack: 0.35520,
      ReduceEnemySiegeAttack: 0.48840,
      ReduceEnemyGroundAttack: 0.55500,
    },
    AttackingToughnessDebuff: {
      ReduceEnemyAllHP: 1.31069,
      ReduceEnemyRangedHP: 0.28416,
      ReduceEnemySiegeHP: 0.39072,
      ReduceEnemyMountedHP: 0.72000,
      ReduceEnemyGroundHP: 0.44400,
      ReduceEnemyAllDefense: 1.31069,
      ReduceEnemyRangedDefense: 0.28416,
      ReduceEnemySiegeDefense: 0.39072,
      ReduceEnemyMountedDefense: 0.33744,
      ReduceEnemyGroundDefense: 0.6,
    },
    ReinforcingAttackDebuff: {
      ReduceAllAttack: 1.63836,
      ReduceEnemyMountedAttack: 0.35520,
      ReduceEnemyRangedAttack: 0.42180,
      ReduceEnemySiegeAttack: 0.48840,
      ReduceEnemyGroundAttack: 0.55500,
    },
    ReinforcingToughnessDebuff: {
      ReduceEnemyAllHP: 1.31069,
      ReduceEnemyRangedHP: 0.39072,
      ReduceEnemySiegeHP: 0.28416,
      ReduceEnemyMountedHP: 0.44400,
      ReduceEnemyGroundHP: 0.33744,
      ReduceEnemyAllDefense: 1.31069,
      ReduceEnemyRangedDefense: 0.39072,
      ReduceEnemySiegeDefense: 0.28416,
      ReduceEnemyMountedDefense: 0.44400,
      ReduceEnemyGroundDefense: 0.33744,
    },
    Debilitation: {
      Wounded2Death: 0.25555,
      InCityWounded2Death: 0,
      Wounded2DeathWhenAttacking: 0,
    }
  },
}
